\documentclass[12pt, a4paper]{report}
\usepackage[MeX]{polski}
\usepackage[polish]{babel}
\usepackage[latin2]{inputenc}
\usepackage{indentfirst}

\author{Sergey Poznyakoff}
\title{Obliczenie ilo¶ci u¿ytkowników systemu {\it Cheetah}}

% \fvset{fontsize=\normalsize,xleftmargin=1cm}

\begin{document}
\maketitle

\tableofcontents
\newpage

\chapter{Ogólne wiadomo¶ci}

Ka¿dy u¿ytkownik systemu {\it Cheetah} mo¿e zaprosiæ pewn± liczbê
nowych u¿ytkowników, czyli spowodowaæ ich rejestracjê w systemie.
Ilo¶æ takich rejestracji okre¶la siê przez {\it liczbê zaproszeñ},
przypisan± danemu u¿ytkownikowi. Poniewa¿ na obecnym etapie ³±czna
liczba u¿ytkowników w systemie {\it Cheetah} jest ograniczona, pocz±tkowa
ilo¶æ zaproszeñ posiadanych przez u¿ytkownika ma byæ malej±c± funkcj± jego
numeru w systemie.

Zbiór kont {\it Cheetah} sk³ada siê z okre¶lonej ilo¶ci $N_{r}$ kont
{\it wolnej rejestracji} oraz ilo¶ci $N_{z}$ kont wydzielonych do
zaproszeñ.  Rejestracja jest otwarta dopóty, dopóki istniej± niezajête
konta wolnej rejestracji.  Po wype³nieniu liczby $N_{r}$ podalsza
rejestracja u¿ytkowników jest mo¿liwa tylko poprzez system zaproszeñ.

Funkcja liczby zaproszeñ okre¶la siê wzorem:

\begin{equation}
\label{eq1}
f(i) = \cases{B, &dla $i < N_{r}$\cr
                B - {{i}\overwithdelims [] {m}}, &dla $i \ge N_{r}$},
\end{equation}

gdzie $B$ i $m$ s± pewnymi sta³ymi, $i$ jest numerem u¿ytkownika
w systemie, nawiasy za¶ kwadratowe oznaczaj± ca³kowit± czê¶æ ilorazu.

Celem niniejszego opracowania jest obliczenie ilo¶ci kont generowanych przez
funkcjê \ref{eq1}, czyli

\begin{equation}
\label{eq2}
\bar{N} = \sum\limits_{i=0}^{Bm}f(i),
\end{equation}

górna granica sumowania jest wybrana na podstawie to¿samo¶ci:

\begin{eqnarray}
f(Bm) = 0;\nonumber
\end{eqnarray}

W wypadku gdy $N_{r} = 0$, suma \ref{eq2} redukuje siê do

\begin{equation}
\label{eq3}
N' = S_{Bm} + 1
\end{equation}

gdzie $S_{Bm}$ jest sum± pocz±tkowych $Bm$ wyrazów ci±gu 

\begin{equation}
\label{eqa}
a_i = B - {{i}\overwithdelims [] {m}}
\end{equation}

\noindent
czyli

\begin{equation}
\label{eq4}
S_{Bm} = \sum\limits_{i=0}^{Bm}\Bigl(B - {{i}\overwithdelims [] {m}}\Bigr)
\end{equation}

\chapter{Suma ci±gu $a_i = {{i}\overwithdelims [] {m}}$}

Obliczmy sumê:

\begin{equation}
S'_n = \sum\limits_{i=0}^n{{i}\overwithdelims [] {m}}
\end{equation}

\noindent
Zak³adaj±c:

\begin{eqnarray}
n=km+l; l < m\nonumber
\end{eqnarray}

\noindent
otrzymujemy:

\begin{equation}
S'_n = \sum\limits_{i=0}^{km+l}{{i}\overwithdelims [] {m}}
     = \sum\limits_{i=0}^{km-1}{{i}\overwithdelims [] {m}}
     + \sum\limits_{i=km}^{km+l}{{i}\overwithdelims [] {m}}
     = \sigma_1 + \sigma_2
\end{equation}

Obliczenie sum $\sigma_1$ i $\sigma_2$ daje:

\begin{equation}
\sigma_1 = \sum\limits_{i=0}^{km-1}{{i}\overwithdelims [] {m}}
  = \sum\limits_{i=0}^{k-1}\sum\limits_{j=1}^{m}i
  = \sum\limits_{i=0}^{k-1}mi = m\sum\limits_{i=0}^{k-1}i
  = {mk(k-1) \over 2}
\end{equation}

\begin{equation}
\sigma_2 = \sum\limits_{i=km}^{km+l}{{i}\overwithdelims [] {m}}
  = \sum\limits_{j=0}^{l}{{km+j}\overwithdelims [] {m}}
  = \sum\limits_{j=0}^{l}\bigl(k + {{j}\overwithdelims []{m}}\bigr)
  = \sum\limits_{j=0}^{l}k + \sum\limits_{j=0}^{l}{{j}\overwithdelims []{m}}
  = k(l+1)
\end{equation}

W koñcu otrzymujemy:

\begin{equation}
S'_{km+l} = \sum\limits_{i=0}^{km+l}{{i}\overwithdelims [] {m}}
      = {mk(k-1) \over 2} + k(l+1)
\end{equation}

\chapter{Suma ci±gu $S_n$}

Wróæmy do ci±gu

\begin{equation}
S_n = \sum\limits_{i=0}^n\Bigl(B - {{i}\overwithdelims [] {m}}\Bigr)
\end{equation}

Zak³adaj±c znów $n = km+l$, gdzie $l<m$, otrzymujemy:

\begin{equation}
S_{km+l} = \sum\limits_{i=0}^{km+l}\Bigl(B - {{i}\overwithdelims [] {m}}\Bigr)
  = \sum\limits_{i=0}^{km+l}B
   - \sum\limits_{i=0}^{km+l}{{i}\overwithdelims [] {m}}
  = B(km+l+1) - {mk(k-1) \over 2} - k(l+1)
\end{equation}

%$$S_{km+l-1}
%  = \sum\limits_{i=0}^{km+l-1}\Bigl(B - {{i}\overwithdelims [] {m}}\Bigr)
%  = B(km+l) - {mk(k-1) \over 2} - kl$$

Dla sumy \ref{eq4} otrzymujemy:

\begin{eqnarray}
S_{Bm} = {k = B \atopwithdelims || l = 0} 
  = B(Bm+1) - {mB(B-1) \over 2} - B \nonumber
\end{eqnarray}
\begin{eqnarray}
  = B^2m - {mB(B-1) \over 2} 
  = {{2B^2m - B^2m + Bm} \over 2} \nonumber
\end{eqnarray}
\begin{eqnarray}
  = {mB(B+1) \over 2} 
\end{eqnarray}

\chapter{Podsumowanie}

Zgodnie ze wzorem \ref{eq3}, ilo¶æ kont otrzymanych przy $N_{r}=0$:

\begin{equation}
N' = {mB(B+1) \over 2} + 1
\end{equation}

By obliczyæ ilo¶æ kont w ogólnym wypadku \ref{eq1}, zauwa¿my, ¿e gdyby pierwsze
$N_{r}$ kont posiada³y liczby zaproszeñ obliczone zgodnie z \ref{eqa}, utworzy³y
by one ³±cznie $S_{N_{r}} + 1$ kont.  Gdy natomiast ka¿de z tych kont posiada
liczbê zaproszeñ $B$, utworzy siê ³±cznie $B(N_{r}+1)$ kont.  Takim czynem,
otrzymujemy nastêpuj±cy wzór dla ³±cznej ilo¶ci kont:

\begin{equation}
\bar{N} = N' - S_{N_{r}} - 1 + B(N_{r}+1)
          = {mB(B+1) \over 2} - S_{N_{r}} + B(N_{r}+1)
\end{equation}
\end{document}

